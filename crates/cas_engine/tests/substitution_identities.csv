# Substitution-Based Metamorphic Identities
# Format: exp,simp,var,mode
# Each row: exp(x) ≡ simp(x), test checks A(S(u)) ≡ B(S(u))
#
# These identities are selected for substitution testing:
# the variable `x` will be replaced by various sub-expressions.

# Weierstrass / Inverse Trig Compositions
sin(2*arctan(x)),2*x/(1+x^2),x,g
cos(2*arctan(x)),(1-x^2)/(1+x^2),x,g
tan(arctan(x)),x,x,g

# Log/Exp Cancellation
ln(exp(x)),x,x,g
exp(ln(x)),x,x,g
ln(exp(2*x)),2*x,x,g

# Double Angle
sin(2*x),2*sin(x)*cos(x),x,g
cos(2*x),cos(x)^2 - sin(x)^2,x,g
cos(2*x),2*cos(x)^2 - 1,x,g
cos(2*x),1 - 2*sin(x)^2,x,g

# Half Angle
2*sin(x/2)^2,1 - cos(x),x,g
2*cos(x/2)^2,1 + cos(x),x,g

# Pythagorean
sin(x)^2 + cos(x)^2,1,x,g

# Power Reduction
sin(x)^2,(1 - cos(2*x))/2,x,g
cos(x)^2,(1 + cos(2*x))/2,x,g

# Binomial Expansion
(x+1)^2,x^2 + 2*x + 1,x,g
(x-1)^2,x^2 - 2*x + 1,x,g
(x+1)^3,x^3 + 3*x^2 + 3*x + 1,x,g
(x+2)^2,x^2 + 4*x + 4,x,g

# Power Rules
x^2*x^3,x^5,x,g
(x^2)^3,x^6,x,g
x^5/x^3,x^2,x,g

# Difference of Squares/Cubes
x^2 - 1,(x-1)*(x+1),x,g
x^3 - 1,(x-1)*(x^2 + x + 1),x,g

# Fraction Simplification
(x^2 - 1)/(x - 1),x + 1,x,g
(x^3 - 1)/(x - 1),x^2 + x + 1,x,g

# Quotient Identities
sin(x)/cos(x),tan(x),x,g

# Negation / Parity
sin(-x),-sin(x),x,g
cos(-x),cos(x),x,g

# Cofunction
sin(pi/2 - x),cos(x),x,g
cos(pi/2 - x),sin(x),x,g

# Reciprocal
1/(1/x),x,x,g

# Absolute Value
sqrt(x^2),|x|,x,g

# Exponential
exp(x)*exp(-x),1,x,g
exp(2*x),exp(x)^2,x,g

# Triple Angle
sin(3*x),3*sin(x) - 4*sin(x)^3,x,g
cos(3*x),4*cos(x)^3 - 3*cos(x),x,g

# =========================================================================
# NEW IDENTITIES (Feb 2026)
# =========================================================================

# Product-to-Sum Trig
2*sin(x)*cos(x),sin(2*x),x,g
cos(x)^2 - sin(x)^2,cos(2*x),x,g

# Sum-to-Product Trig
sin(x) + sin(-x),0,x,g
cos(x) + cos(-x),2*cos(x),x,g
sin(x)*cos(x),sin(2*x)/2,x,g

# Pythagorean Extended
1 + tan(x)^2,1/cos(x)^2,x,g
sin(x)^4 + cos(x)^4,1 - 2*sin(x)^2*cos(x)^2,x,g
(sin(x) + cos(x))^2,1 + sin(2*x),x,g

# Reciprocal Trig
1/sin(x),csc(x),x,g
1/cos(x),sec(x),x,g
sin(x)*csc(x),1,x,g
cos(x)*sec(x),1,x,g

# Log Rules
ln(x) + ln(x),ln(x^2),x,g
ln(x^2),2*ln(x),x,g
ln(1/x),-ln(x),x,g
exp(x + x),exp(2*x),x,g

# Exponential Rules
exp(x)^2,exp(2*x),x,g
exp(x)*exp(x),exp(2*x),x,g
exp(-x),1/exp(x),x,g

# Algebraic / Polynomial
x^3 + 1,(x+1)*(x^2 - x + 1),x,g
(x+1)^4,x^4 + 4*x^3 + 6*x^2 + 4*x + 1,x,g
x^4 - 1,(x^2 - 1)*(x^2 + 1),x,g
(x+1)*(x-1),x^2 - 1,x,g
(x+2)*(x-2),x^2 - 4,x,g
(x+3)*(x-3),x^2 - 9,x,g

# Rational Simplification
x/(x+1) + 1/(x+1),1,x,g
(x^2 - 4)/(x + 2),x - 2,x,g
(x^2 + 2*x + 1)/(x + 1),x + 1,x,g

# Sqrt / Radical
sqrt(x^2 + 2*x + 1),|x + 1|,x,g
sqrt(4*x^2),2*|x|,x,g

# Shift / Phase
sin(x + pi),-sin(x),x,g
cos(x + pi),-cos(x),x,g
sin(x + pi/2),cos(x),x,g
cos(x + pi/2),-sin(x),x,g

# Even/Odd Powers
(-x)^2,x^2,x,g
(-x)^3,-x^3,x,g
(-x)^4,x^4,x,g

# Double Negation
-(-x),x,x,g

# =========================================================================
# NEW IDENTITIES (Feb 2026 — Extended)
# =========================================================================

# Absolute Value
|x - 1|,|1 - x|,x,g
|2*x|,2*|x|,x,g
|-x|,|x|,x,g
sqrt(x^2),|x|,x,g

# Inverse Trig Compositions
sin(arccos(x)),sqrt(1 - x^2),x,g
cos(arcsin(x)),sqrt(1 - x^2),x,g
sin(2*arcsin(x)),2*x*sqrt(1 - x^2),x,g
cos(2*arcsin(x)),1 - 2*x^2,x,g
sin(arctan(x)),x/sqrt(1 + x^2),x,g
cos(arctan(x)),1/sqrt(1 + x^2),x,g

# Hyperbolic
sinh(2*x),2*sinh(x)*cosh(x),x,g
cosh(-x),cosh(x),x,g
sinh(-x),-sinh(x),x,g

# Polynomial / GCF
x*(x + 1),x^2 + x,x,g
x^3 - x,x*(x - 1)*(x + 1),x,g
3*(x + 2),3*x + 6,x,g
(2*x + 1)^2,4*x^2 + 4*x + 1,x,g

# Rational
x/(x + 1) + 1/(x + 1),1,x,g
(x^2 - 4)/(x + 2),x - 2,x,g
(x^2 + 2*x)/(x + 2),x,x,g
(x - 1)/(x^2 - 1),1/(x + 1),x,g

# Power / Exponent
sqrt(x^4),x^2,x,g
x^(1/2)*x^(1/2),x,x,g

# Mixed
|sin(x)|^2,sin(x)^2,x,g
exp(x)/(exp(x) + 1) + 1/(exp(x) + 1),1,x,g

